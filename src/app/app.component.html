<h1 class="text-center">{{title | uppercase}}</h1>

<h2 class="text-center">{{subtitle | lowercase}}</h2>

{{productos | json}}

<app-boton></app-boton> <!-- esta línea hace de include para el botón -->


<div class="row">

    <!-- listado -->
    <div class="col">
        <!-- sacamos todos los datos del array productos con el "foreach" de json: *ngFor -->
        <ul class="list-group">
            <li *ngFor="let p of productos" 
                (click)="seleccionarProducto(p)" 
                class="list-group-item {{p==pSeleccionado ? 'active' :'' }}">
                    <b>{{p.nombre}}</b> {{p.precio}}€
            </li>
        </ul>
    </div>

    <!-- detalle -->
    <div class="col">
        <img src="{{pSeleccionado.imagen}}" class="card-img-top" alt="{{pSeleccionado.nombre}}"><br>
        {{pSeleccionado.nombre}}<br>
        {{pSeleccionado.precio}}€<br>
        {{pSeleccionado.categoria.nombre}}<br>
        <p>Historial de precios:</p>
        <!-- sacamos todos los datos del array historico -->
        <ul class="list-group">
            <li *ngFor="let h of pSeleccionado.historico" class="list-group-item">
                {{h.fecha}}, {{h.precio}}€
            </li>
        </ul>

        <span *ngIf="! pSeleccionado.gluten" class="badge badge-success">Sin gluten</span>
        <span *ngIf="pSeleccionado.gluten" class="badge badge-danger fas fa-exclamation-circle">Con gluten</span>

    </div>

</div>
